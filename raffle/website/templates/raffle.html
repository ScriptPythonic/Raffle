<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
        *{
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }
        .raffleUI{
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            min-height: 100vh;
            background: #00beac;
        }
        .container{
            height: 350px;
            width: 350px;
            background: #4ed4c6;
            position: relative;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 0 10px gray;
            transition: 3s all;
        }
        .container div{
            height: 50%;
            width: 200px;
            clip-path: polygon(100% 0,50% 100%, 0 0);
            transform: translateX(-50%);
            transform-origin: bottom;
            position: absolute;
            left: 21%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-family: monospace;
            font-weight: 1000;
            color:#008276; 
             writing-mode: vertical-rl;
        }
        .container .one{
            background: #baf4ee;
            left: 50%;
        }
        .container .two{
            background: #4ed4c6;
            transform: rotate(60deg);
        }
        .container .three{
            background: #baf4ee;
            transform: rotate(120deg);
        }
        .container .four{
            background: #4ed4c6;
            transform: rotate(180deg);
        }
        .container .five{
            background: #baf4ee;
            transform: rotate(240deg);
        }
        .container .six{
            background: #4ed4c6;
            transform: rotate(300deg);
        }
        .mid{
            height: 25px;
            width: 25px;
            border-radius: 50%;
            position: absolute;
            background: #008276;
        }
        #spin{
            height: 60px;
            width: 200px;
            background: #4ed4c6;
            position: absolute;
            margin-top: 600px;
            font-size: 30px;
            color: white;
            font-weight: 1000;
            letter-spacing: 4px;
            border: 1px solid white;
            cursor: pointer;
            box-shadow: 0 5px 10px gray;
            transition: 0.2s all;
        }
        #spin:hover{
            box-shadow: none;
        }
        .stoper{
            height: 50px;
            width: 40px;
            background: #ffd600;
            position: absolute;
            clip-path: polygon(100% 0,50% 100%, 0 0);
            margin-top: -350px;
        }

        .number-button  {
            display: inline-block;
            margin: 5px; /* Adjust the margin as needed to control the spacing between numbers */
            padding: 10px;
            background-color: #008276; /* Background color */
            color: #fff; /* Text color */
            font-size: 18px; /* Font size */
            font-weight: bold; /* Font weight */
            border-radius: 5px; /* Rounded corners */
            text-align: center; /* Center the text horizontally */
            transition: color 0.3s; /* Smooth transition for color change */
        }
        
        .number-button:hover {
            background-color: #4ed4c6;; /* Text color on hover */
        }
        
        
        
    </style>
	<title>Lucky Spin</title>
</head>
<body>
    <div class="raffleUI">
	<div class="container">
		<div class="one">{{winning_number}}</div>
		<div class="two">78</div>
		<div class="three">67</div>
		<div class="four">45</div>
		<div class="five">99</div>
		<div class="six">27</div>
	</div>
		<span class="mid"></span>
        <div class="numbers">
            <h3 style="text-align: center; margin-top: 20px;">
                Pick a number before Spin 
            </h3>
            <span class="number-button option" data-number="27">27</span>
            <span class="number-button option" data-number="{{winning_number}}">{{winning_number}}</span>
            <span class="number-button option" data-number="45">45</span>
            <span class="number-button option" data-number="99">99</span>
            <span class="number-button option" data-number="78">78</span>
            <span class="number-button option" data-number="67">67</span>
        </div>
		<button id="spin">Spin</button>
		<div class="stoper"></div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const numberButtons = document.querySelectorAll(".number-button");
            const spinBtn = document.getElementById("spin");
            let selectedNumber = null; // Variable to store the selected number
        
            // Add a click event listener to each number button
            numberButtons.forEach((button) => {
                button.addEventListener("click", () => {
                    // Get the number from the data attribute of the button
                    selectedNumber = button.getAttribute("data-number");
                });
            });
        
            spinBtn.addEventListener("click", () => {
                if (selectedNumber === null) {
                    alert("Please select a number before spinning.");
                    return;
                }
        
                // Make an AJAX request to send the selected number to the server
                fetch("/raffle", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({ number: selectedNumber }),
                })
                    .then((response) => {
                        if (response.status === 200) {
                            // Success: Handle the response accordingly
                            window.location.href = '/winning_page';
                        } else {
                            // Error: Handle the response accordingly
                            window.location.href = '/sorry_page';
                        }
                    })
                    .catch((error) => {
                        console.error("Error:", error);
                    });
            });
        });
        
    </script>
    
    

</body>
</html>

    